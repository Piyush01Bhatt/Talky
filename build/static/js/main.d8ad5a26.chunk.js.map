{"version":3,"sources":["manage_chats.svg","logo.svg","talky_logo.png","components/login/login.jsx","helpers/axios.js","components/login/OtpModal.js","components/login/register.jsx","StateProvider.js","components/chatroom/ChatReceiver.js","components/chatroom/ChatMessage.js","components/chatroom/Chat.js","components/chatroom/SidebarChat.js","components/chatroom/RequestList.js","components/chatroom/RequestsModal.js","components/chatroom/FriendList.js","components/chatroom/MyFriendsModal.js","components/chatroom/Sidebar.js","components/chatroom/SocketProvider.js","components/chatroom/FriendsSearchList.js","components/chatroom/FindFriend.js","components/chatroom/Chatroom.js","App.js","serviceWorker.js","index.js","reducer.js"],"names":["useStyles","makeStyles","theme","buttonProgress","color","position","top","left","marginTop","marginLeft","Login","props","classes","useState","loading","setLoading","className","ref","containerRef","src","talkyLogo","alt","Button","onClick","flip","type","name","placeholder","onChange","processLoginEmail","processLoginPassword","style","backgroundColor","disabled","e","processLogin","CircularProgress","size","instance","axios","create","baseURL","OtpModal","isOpen","close","element","userEmail","input","setInput","verify_otp","a","post","email","otp","res","data","success","alert","console","log","message","overlayClassName","appElement","parentSelector","document","querySelector","IconButton","value","target","Register","modalIsOpen","setModalIsOpen","password","userInput","setUserInput","open","id","getElementById","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","useReducer","useStateValue","useContext","ChatReceiver","messageBody","timestamp","ChatMessage","dayjs","extend","relativeTime","Chat","sendMessage","user","room","recent_rooms","useEffect","chatWindow","scrollTo","scrollHeight","Avatar","AttachFile","messages","map","item","i","from_name","fromNow","SidebarChat","roomName","index","roomId","key","concat","green","RequestList","status","personId","acceptRequest","rejectRequest","loadingAccept","setLoadingAccept","loadingReject","setLoadingReject","RequestsModal","closeRequests","requests","dispatch","userId","_id","friendId","Error","presentRequests","splice","Fragment","Drawer","anchor","onClose","PaperProps","BackdropProps","ModalProps","container","variant","length","sentUserName","sentUserStatus","fo_id","FriendList","addToRecent","setSuccess","MyFriendsModal","handleClose","React","selectedTab","setSelectedTab","fromMeRequestedFriends","toMeRequestedFriends","body","AppBar","Tabs","event","newValue","get","then","err","aria-label","Tab","label","u_id","Dialog","DialogActions","fab","bottom","spacing","right","Sidebar","findFriend","friendsModelIsOpen","setFriendsModelIsOpen","processRoomClick","Object","entries","Fab","SocketContext","SocketProvider","socket","setSocket","newSocket","io","query","on","requestInfo","from","from_id","to_name","FriendsSearchList","received","requested","accepted","sendRequest","FindFriend","people","setPeople","searchText","setSearchText","search","preventDefault","queryUrl","Chatroom","push","to_id","Date","now","emit","msg","App","state","loginEmail","loginPwd","resUser","setState","prevState","isLoginActive","isChatroomActive","isFlipped","this","banner","containerStyle","flipDirection","current","Component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","action","modi","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.d8ad5a26.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/manage_chats.5a5517dc.svg\";","export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","export default __webpack_public_path__ + \"static/media/talky_logo.e1293087.png\";","import React, {useState} from 'react'\nimport './style.scss'\nimport talkyLogo from '../../talky_logo.png'\nimport { Button } from '@material-ui/core'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { green, grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme)=> ({\n  buttonProgress: {\n    color: '#454fbe',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12,\n  }\n}))\n\nexport const Login = props => {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false)\n\n  return (\n    <div className='base-container' ref={props.containerRef}>\n      <div className='topHeader'>\n        <img src={talkyLogo} alt='talky'></img>\n        <div className='mui__button'>\n          <Button onClick={() => props.flip()}>Sign up</Button>\n        </div>\n      </div>\n      <div className='header'>\n        <h3>Login</h3>\n      </div>\n      <div className='content'>\n        <div className='form'>\n          <div className='form-group'>\n            <input\n              type='text'\n              name='username'\n              placeholder='username'\n              onChange={props.processLoginEmail}\n            />\n          </div>\n          <div className='form-group'>\n            <input\n              type='password'\n              name='password'\n              placeholder='password'\n              onChange={props.processLoginPassword}\n            />\n          </div>\n        </div>\n      </div>\n      <div className='footer'>\n        <Button type='button' className='btn' \n          style={\n            loading ? {backgroundColor:'#e0e0e0',\n                       color: '#9e9e9e'\n                      }:\n                      {backgroundColor: '#454fbe',\n                        color: '#fff'\n                      }\n          }\n          disabled={loading}\n          onClick={(e)=>{\n            setLoading(true)\n            props.processLogin(setLoading)\n          }}>\n          Login\n        </Button>\n        {loading && <CircularProgress size={24} className={classes.buttonProgress}/>}\n      </div>\n    </div>\n  )\n}\n","import axios from 'axios'\n\nconst instance = axios.create({\n    baseURL: 'http://0.0.0.0:8001',\n})\n\nexport default instance;","import React, { useState } from 'react'\nimport Modal from 'react-modal'\nimport './OtpModal.css'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport { Button, IconButton, CircularProgress } from '@material-ui/core'\nimport AutorenewIcon from '@material-ui/icons/Autorenew'\nimport axios from '../../helpers/axios'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme)=> ({\n  buttonProgress: {\n    color: '#454fbe',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12,\n  }\n}))\n\nfunction OtpModal ({ isOpen, close, element, userEmail }) {\n  const classes = useStyles()\n  const [input, setInput] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const verify_otp = async () => {\n    setLoading(true)\n    try {\n      const res = await axios.post('/user/auth', {\n        email: userEmail,\n        otp: input\n      })\n      if (res && res.data.success === true) {\n        setLoading(false)\n        alert('Otp Verified')\n        setInput('')\n        close()\n      }\n    } catch (err) {\n      console.log(err)\n      alert(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      className=\"Otp__Modal\"\n      overlayClassName=\"Overlay\"\n      appElement={element}\n      parentSelector={() => document.querySelector('#register_base')}\n    >\n      <div className=\"otpmodal__body\">\n        <div className=\"otpclose__button\">\n          <IconButton className=\"otpicon_button\" onClick={() => {\n            close()\n          }}>\n            <CancelIcon />\n          </IconButton>\n        </div>\n\n        <div className=\"otpmodal__input\">\n          <input value={input}\n            onChange={(e) => setInput(e.target.value)}\n            type=\"text\" name=\"otp\" placeholder=\"otp\" />\n        </div>\n\n        <div className=\"otpmodal__footer\">\n          <div className=\"otpsend__button\">\n            <Button onClick={() => verify_otp()} \n              className=\"otp_verify\"\n              style={\n                loading ? {backgroundColor:'#e0e0e0',\n                           color: '#9e9e9e'\n                          }:\n                          {backgroundColor: '#454fbe',\n                            color: '#fff'\n                          }\n              }\n              disabled={loading}>\n                Verify\n            </Button>\n            {loading && <CircularProgress size={24} className={classes.buttonProgress}/>}\n          </div>\n          <div className=\"otp__resend\">\n            <IconButton className=\"otpresend__button\">\n              <AutorenewIcon className=\"otpresend__icon\" />\n            </IconButton>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  )\n}\n\nexport default OtpModal\n","import { Button, CircularProgress } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport talkyLogo from '../../talky_logo.png'\nimport OtpModal from './OtpModal'\nimport axios from '../../helpers/axios'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles((theme)=> ({\n  buttonProgress: {\n    color: '#454fbe',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -12,\n    marginLeft: -12,\n  }\n}))\n\nexport const Register = props => {\n  const classes = useStyles();\n  const [modalIsOpen, setModalIsOpen] = useState(false)\n  const [userInput, setUserInput] = useState({\n    name: '',\n    email: '',\n    password: ''\n  })\n  const [loading, setLoading] = useState(false)\n\n  const close = () => {\n    setModalIsOpen(false)\n  }\n\n  const open = async () => {\n    setLoading(true)\n    try {\n      const res = await axios.post('/user/register', {\n        name: userInput.name,\n        email: userInput.email,\n        password: userInput.password\n      })\n      if (res.data.success === true){\n        setLoading(false)\n        setModalIsOpen(true)\n      }\n    } catch (err) {\n      console.log(err.message)\n      setLoading(false)\n      alert('registration failed')\n    }\n  }\n\n  return (\n    <div className=\"base-container\" id=\"register_base\" ref={props.containerRef}>\n      <div className=\"topHeader\">\n        <img src={talkyLogo} alt=\"talky\"></img>\n        <div className='mui__button'>\n          <Button onClick={() => props.flip()}>Sign in</Button>\n        </div>\n      </div>\n      <div className=\"header\">\n        <h3>Register</h3>\n      </div>\n      <div className=\"content\">\n        <div className=\"form\">\n          <div className=\"form-group\">\n            <input type=\"text\" name=\"username\" placeholder=\"username\"\n              value={userInput.name}\n              onChange={(e) => setUserInput({ ...userInput, name: e.target.value })}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input type=\"text\" name=\"email\" placeholder=\"email\"\n              value={userInput.email}\n              onChange={(e) => setUserInput({ ...userInput, email: e.target.value })}\n            />\n          </div>\n          <div className=\"form-group\">\n            <input type=\"password\" name=\"password\" placeholder=\"password\"\n              value={userInput.password}\n              onChange={(e) => setUserInput({ ...userInput, password: e.target.value })}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"footer\">\n        <Button onClick={() => open()} type=\"button\" className=\"btn\"\n          style={\n            loading ? {backgroundColor:'#e0e0e0',\n                       color: '#9e9e9e'\n                      }:\n                      {backgroundColor: '#454fbe',\n                        color: '#fff'\n                      }\n          }\n          disabled={loading}\n        >\n          Register\n        </Button>\n        {loading && <CircularProgress size={24} className={classes.buttonProgress}/>}\n      </div>\n      <OtpModal isOpen={modalIsOpen} close={close}\n        element={document.getElementById('talky')}\n        userEmail={userInput.email}/>\n    </div>\n  )\n}\n","import React, {createContext, useContext, useReducer} from \"react\";\n\nconst StateContext = createContext();\n\nexport const StateProvider = ({\n    reducer, initialState, children\n}) => (\n    <StateContext.Provider value = {useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>\n)\n\nexport const useStateValue = () => useContext(StateContext)","import React from 'react'\nimport './ChatReceiver.css'\n\nfunction ChatReceiver (props) {\n  return (\n    <p className=\"chat__receiver\">\n      <span className=\"chat__name\">{props.name}</span>\n      {props.messageBody}\n      <span className=\"chat__timestamp\">{props.timestamp}</span>\n    </p>\n  )\n}\n\nexport default ChatReceiver\n","import React from 'react'\nimport \"./ChatMessage.css\"\n\nfunction ChatMessage(props) {\n    return (\n        <p className=\"chat__message\">\n                    <span className=\"chat__name\">{props.name}</span>\n                    {props.messageBody}\n    <span className=\"chat__timestamp\">{props.timestamp}</span>\n            </p>\n    )\n}\n\nexport default ChatMessage\n","import React, { useState, useEffect } from \"react\";\nimport dayjs from \"dayjs\"\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport \"./Chat.css\";\nimport { Avatar, IconButton } from \"@material-ui/core\";\nimport {\n  AttachFile,\n  MoreVert,\n  SearchOutlined,\n  InsertEmoticon,\n  SettingsInputAntenna,\n  MessageSharp,\n} from \"@material-ui/icons\";\nimport ChatMessage from \"./ChatReceiver\";\nimport ChatReceiver from \"./ChatMessage\";\nimport InsertEmoticonIcon from \"@material-ui/icons/InsertEmoticon\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport axios from \"../../helpers/axios\";\nimport VideoCallIcon from \"@material-ui/icons/VideoCall\";\nimport { useStateValue } from \"../../StateProvider\";\n\ndayjs.extend(relativeTime)\n\nfunction emptyCheck(value) {\n  return (Object.keys(value).length === 0\n    && value.constructor === Object)\n}\n\nfunction Chat({ sendMessage }) {\n  const [\n    { user, room, recent_rooms },\n    dispatch,\n  ] = useStateValue();\n  const [input, setInput] = useState(\"\");\n\n  useEffect(() => {\n    const chatWindow = document.getElementById('chatBody')\n    chatWindow.scrollTo(chatWindow.scrollHeight)\n  })\n\n\n  return (\n    <div className=\"chat\">\n      <div className=\"chat__header\">\n        <Avatar className=\"chat__header__avatar\" />\n        <div className=\"chat__headerInfo\">\n          <h3>{room.name}</h3>\n          <p>Last seen at...</p>\n        </div>\n\n        <div className=\"chat__headerRight\">\n          <IconButton className=\"inactive__button\" disabled={true}>\n            <VideoCallIcon />\n          </IconButton>\n          <IconButton className=\"inactive__button\" disabled={true}>\n            <AttachFile />\n          </IconButton>\n        </div>\n      </div>\n\n      <div className=\"chat__body\" id=\"chatBody\">\n        {room.id && recent_rooms[room.id].messages.map((item, i) => (\n          item.from_name === user.name ?\n            <ChatMessage\n              name={user.name}\n              messageBody={item.message}\n              timestamp={dayjs(item.timestamp).fromNow()}\n            />\n            :\n            <ChatReceiver\n              name={item.from_name}\n              messageBody={item.message}\n              timestamp={dayjs(item.timestamp).fromNow()}\n            />\n        ))}\n      </div>\n\n      <div className=\"chat__footer\">\n        <IconButton className=\"inactive__button\" disabled={true}>\n          <InsertEmoticonIcon />\n        </IconButton>\n        <form>\n          <input\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder=\"Type a message\"\n            type=\"text\"\n          />\n          <button onClick={(e) => {\n            sendMessage(e, input)\n            setInput('')\n          }} type=\"submit\">\n            Send a Message\n          </button>\n        </form>\n        <IconButton className=\"inactive__button\" disabled={true}>\n          <MicIcon />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n\nexport default Chat;\n","import React from 'react'\nimport './SidebarChat.css'\nimport { Avatar } from '@material-ui/core'\nimport { useStateValue } from '../../StateProvider'\n\nfunction SidebarChat ({ onClick, roomName, index, roomId }) {\n  const [{ room }] = useStateValue()\n  return (\n    <div className={(room.key === index) ? ('sidebarChat '.concat('sidebarChat_selected')) : 'sidebarChat'}\n      onClick={() => onClick(roomName, roomId, index)}\n    >\n      <Avatar className=\"sidebarChat__avatar\" />\n      <div className=\"sidebarChat__info\">\n        <h2>{roomName}</h2>\n        <p>This is the last message .</p>\n      </div>\n    </div>\n  )\n}\n\nexport default SidebarChat\n","import React, { useState } from 'react'\nimport \"./RequestList.css\"\nimport { Avatar, IconButton } from '@material-ui/core'\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\nimport CloseIcon from '@material-ui/icons/Close';\nimport axios from \"../../helpers/axios\"\nimport CheckIcon from '@material-ui/icons/Check';\nimport { green } from '@material-ui/core/colors';\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\n\nconst useStyles = makeStyles((theme)=> ({\n    buttonProgress: {\n      color: green[500],\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -18,\n      marginLeft: -18,\n    }\n  }))\n\nfunction RequestList({ name, status, personId, index, user, acceptRequest, rejectRequest }) {\n    const classes = useStyles();\n    const [loadingAccept, setLoadingAccept] = useState(false)\n    const [loadingReject, setLoadingReject] = useState(false)\n\n    return (\n        <div className=\"list__main\">\n            <Avatar className=\"list__avatar\"/>\n            <div className=\"list__info\">\n                <h2>{name}</h2>\n                <p>{status}</p>\n            </div>\n            <div className=\"accept__fab\">\n                <IconButton onClick={(e)=>acceptRequest(index,personId,name,status,setLoadingAccept)}>\n                    <CheckIcon className=\"accept__icon\" />\n                </IconButton>\n                {loadingAccept && <CircularProgress size={38} className={classes.buttonProgress}/>}\n            </div>\n            <div className=\"reject__fab\">\n                <IconButton onClick={()=>rejectRequest(index,personId,name,status,setLoadingReject)}>\n                    <CloseIcon className=\"reject__icon\" />\n                </IconButton>\n                {loadingReject && <CircularProgress size={38} className={classes.buttonProgress}/>}\n            </div>\n        </div>\n    )\n}\n\nexport default RequestList\n","import React, { useState } from 'react'\nimport Modal from 'react-modal'\nimport './RequestsModal.css'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport { Button, IconButton, Drawer, createChainedFunction } from '@material-ui/core'\nimport AutorenewIcon from '@material-ui/icons/Autorenew'\nimport axios from '../../helpers/axios'\nimport RequestList from './RequestList'\nimport { useStateValue } from '../../StateProvider'\n\nfunction RequestsModal({ isOpen, closeRequests, element }) {\n  const [input, setInput] = useState('')\n  const [{ requests, user }, dispatch] = useStateValue();\n\n  const acceptRequest = async (index, personId, name, status, setLoading) => {\n    setLoading(true)\n    try {\n      const res = await axios.post('/friends/accept_request', {\n        userId: user._id,\n        friendId: personId\n      })\n      if (!res) {\n        throw new Error('empty response')\n      }\n      /*dispatch({\n        type: \"ADD_ROOM\",\n        item: {\n          name: name,\n          id: personId,\n          status: status\n        }\n      })*/\n      let presentRequests = [...requests]\n      presentRequests.splice(index, 1) // remove the request\n      dispatch({\n        type: \"RESET_REQUESTS\",\n        item: presentRequests\n      })\n    } catch (err) {\n      console.log(err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const rejectRequest = async (index) => {\n    try {\n\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  \n  return (\n    <React.Fragment key={\"left\"}>\n      <Drawer anchor={\"left\"}\n        open={isOpen}\n        onClose={closeRequests}\n        PaperProps={{ style: { position: 'absolute' } }}\n        BackdropProps={{ style: { position: 'absolute' } }}\n        ModalProps={{\n          container: document.getElementById(\"chatroomBody\"),\n          style: {\n            position: 'absolute',\n          }\n        }}\n        variant=\"temporary\"\n      >\n        <div className=\"drawer__menu\">\n          {\n            (requests.length > 0) ? requests.map((item, i) => {\n              return <RequestList\n                name={item.sentUserName}\n                status={item.sentUserStatus}\n                personId={item.fo_id}\n                user={user}\n                index={i}\n                acceptRequest={acceptRequest}\n                rejectRequest={rejectRequest}\n              />\n            }) : <h1>Empty</h1>\n          }\n        </div>\n      </Drawer>\n    </React.Fragment >\n  )\n}\n\nexport default RequestsModal\n","import { Avatar, IconButton, CircularProgress } from '@material-ui/core'\nimport React, {useState} from 'react'\nimport AddIcon from '@material-ui/icons/Add';\nimport \"./FriendList.css\"\nimport { useStateValue } from '../../StateProvider'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CheckIcon from '@material-ui/icons/Check';\nimport { green } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme)=> ({\n  buttonProgress: {\n    color: green[500],\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -18,\n    marginLeft: -18,\n  }\n}))\n\nfunction FriendList({ name, status, personId, index, addToRecent }) {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false)\n  const [success, setSuccess] = useState(false)\n\n  return (\n    <div className=\"friend__list__main\">\n      <Avatar className=\"friend__list__avatar\"/>\n      <div className=\"friend__list__info\">\n          <h2>{name}</h2>\n          <p>{status}</p>\n      </div>\n      <div className=\"add__fab\">\n        <IconButton className=\"add__to__recent\"\n          onClick={()=>{\n              addToRecent(index, personId, name, status, setLoading, setSuccess)\n            }}\n          disabled={loading}\n        >\n          {success?<CheckIcon className=\"add__icon\"/>:<AddIcon className=\"add__icon\"/>}\n        </IconButton>\n        {loading && <CircularProgress size={24} className={classes.buttonProgress}/>}\n      </div>\n    </div>\n  )\n}\n\nexport default FriendList\n","import React, { useEffect } from 'react'\nimport Modal from '@material-ui/core/Modal';\nimport \"./MyFriendsModal.css\"\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Button from '@material-ui/core/Button';\nimport AppBar from '@material-ui/core/AppBar';\nimport FriendList from './FriendList'\nimport { useStateValue } from '../../StateProvider'\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport { IconButton } from '@material-ui/core';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\nimport axios from '../../helpers/axios';\n\nfunction MyFriendsModal({ isOpen, handleClose }) {\n  const [selectedTab, setSelectedTab] = React.useState(0);\n  const [{ requests, user, recent_rooms, fromMeRequestedFriends, toMeRequestedFriends }, dispatch] = useStateValue();\n\n  const addToRecent = (index, personId, name, status, setLoading, setSuccess) => {\n    setLoading(true)\n    const item = {}\n    item[personId] = {\n      name,\n      status,\n      messages:[]\n    }\n    dispatch({\n      item,\n      type: \"ADD_ROOM\"\n    })\n    setLoading(false)\n    setSuccess(true)\n  }\n\n  const handleChange = (event, newValue) => {\n    setSelectedTab(newValue);\n    if (newValue===0) {\n      axios.get(`/friends/from_me_requested/${user._id}/${1}/${10}`)\n      .then((res) => {\n        dispatch({\n          type: \"ADD_FROM_ME_FRIENDS\",\n          item: res.data.data\n        })\n      }, (err) => {\n        console.log(err)\n      })\n    }\n    if (newValue===0) {\n      axios.get(`/friends/to_me_requested/${user._id}/${1}/${10}`)\n         .then((res) => {\n           console.log(res.data)\n           dispatch({\n             type: \"ADD_TO_ME_FRIENDS\",\n             item: res.data.data\n           })\n         }, (err) => {\n           console.log(err)\n         })\n    }\n  };\n\n  const body = (\n    <div className='my__friends__body'>\n      <AppBar position=\"sticky\">\n        <Tabs value={selectedTab} onChange={handleChange} aria-label=\"simple tabs example\">\n          <Tab label=\"My Requested Friends\" />\n          <Tab label=\"To Me Requested Friends\" />\n        </Tabs>\n      </AppBar>\n      {selectedTab === 0 && (fromMeRequestedFriends.length>0) &&\n        fromMeRequestedFriends.map((item,i)=>{\n          return  <FriendList\n            name={item.name}\n            status={item.status}\n            personId={item.u_id}\n            addToRecent={addToRecent}\n          />\n        })\n      }\n      {selectedTab === 1 && (toMeRequestedFriends.length>0) &&\n        toMeRequestedFriends.map((item,i)=>{\n          return  <FriendList\n            name={item.sentUserName}\n            status={item.sentUserStatus}\n            personId={item.fo_id}\n            addToRecent={addToRecent}\n          />\n        })\n      }\n    </div>\n  );\n\n  return (\n    <div>\n      <Dialog\n        open={isOpen}\n        onClose={handleClose}\n        className=\"my__friends__modal\">\n        {body}\n        <DialogActions>\n          <IconButton>\n            <ArrowLeftIcon />\n          </IconButton>\n          <IconButton>\n            <ArrowRightIcon />\n          </IconButton>\n          <Button onClick={handleClose} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nexport default MyFriendsModal\n","import React, { useState } from 'react';\nimport \"./Sidebar.css\";\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\"\nimport ChatIcon from \"@material-ui/icons/Chat\"\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\"\nimport { IconButton, Avatar, makeStyles } from '@material-ui/core';\nimport SearchOutlined from \"@material-ui/icons/SearchOutlined\";\nimport SidebarChat from \"./SidebarChat\"\nimport { useStateValue } from '../../StateProvider'\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\nimport RequestsModal from './RequestsModal'\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport MyFriendsModal from './MyFriendsModal';\n\nconst useStyles = makeStyles((theme) => ({\n    fab: {\n      position: 'absolute',\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    }\n  }));\n\nfunction Sidebar({ user, findFriend }) {\n\n    const [{ recent_rooms }, dispatch] = useStateValue();\n    const [modalIsOpen, setModalIsOpen] = useState(false)\n    const [friendsModelIsOpen, setFriendsModelIsOpen] = useState(false)\n    const classes = useStyles();\n\n    const processRoomClick = (roomName, roomId, key) => {\n        dispatch({\n            type: 'SET_ROOM',\n            item: {\n                name: roomName,\n                id: roomId,\n                key: key,\n            }\n        })\n    }\n\n    const closeRequests = () => {\n        setModalIsOpen(false)\n    }\n\n    const handleClose = () => {\n        setFriendsModelIsOpen(false)\n    }\n\n    return (\n        <div className='sidebar' id=\"chatroom_sidebar\">\n            <div className=\"sidebar__header\">\n                <div className=\"avatar__container\">\n                    <Avatar className=\"avatar__icon\" />\n                </div>\n\n                <div className=\"sidebar__headerRight\">\n                    <IconButton className=\"inactive_button\" disabled={true}>\n                        <DonutLargeIcon />\n                    </IconButton>\n                    <IconButton className=\"action_button\" onClick={(e) => setModalIsOpen(true)}>\n                        <ChatIcon />\n                    </IconButton>\n                    <IconButton onClick={(e) => findFriend()} className=\"action_button\">\n                        <PeopleAltIcon />\n                    </IconButton>\n                </div>\n            </div>\n            <div className=\"sidebar__right\">\n                <div className=\"sidebar__search\">\n                    <div className=\"sidebar__searchContainer\">\n                        <SearchOutlined />\n                        <input placeholder=\"Search or start new chat\" type=\"text\" />\n                    </div>\n                </div>\n\n                <div className=\"sidebar__chats\">\n                    {(recent_rooms) && Object.entries(recent_rooms).map((item, index) => (\n                        <SidebarChat\n                            onClick={processRoomClick}\n                            roomName={item[1].name}\n                            index={index}\n                            key={index}\n                            roomId={item[0]}\n                        />\n                    ))\n                    }\n                </div>\n                <Fab color=\"primary\" aria-label=\"add\" \n                className={classes.fab}\n                onClick={()=>setFriendsModelIsOpen(true)}>\n                    <AddIcon />\n                </Fab>\n            </div>\n            <RequestsModal\n                isOpen={modalIsOpen}\n                closeRequests={closeRequests}\n                element={document.getElementById('talky')}\n            />\n            <MyFriendsModal\n                isOpen={friendsModelIsOpen}\n                handleClose={handleClose}\n            />\n        </div>\n    )\n}\n\nexport default Sidebar\n","import React, { useContext, useEffect, useState } from 'react'\nimport io from \"socket.io-client\";\nimport { useStateValue } from '../../StateProvider';\nimport axios from \"../../helpers/axios\"\n\nconst SocketContext = React.createContext()\n\nexport function useSocket() {\n    return useContext(SocketContext)\n}\n\nexport function SocketProvider({ id, user, children }) {\n    const [socket, setSocket] = useState()\n    const [state, dispatch] = useStateValue()\n\n    useEffect(() => {\n        console.log('SocketProvider')\n        const newSocket = io(\n            \"http://0.0.0.0:8001\",\n            { query: { id } }\n        );\n        setSocket(newSocket)\n\n        newSocket.on(\"received-friend-request\", (requestInfo) => {\n            console.log('request-received')\n            dispatch({\n                type: 'ADD_REQUEST',\n                item: {\n                    sentUserName: requestInfo.from,\n                    fo_id: requestInfo.id,\n                    sentUserStatus: requestInfo.status\n                }\n            })\n        })\n\n        newSocket.on(\"received-message\", (message) => {\n            console.log(\"message-received\");\n            /*state.recent_rooms[message.from_id].messages.push({\n                from_name: message.from_name,\n                to_name: message.to_name,\n                message: message.message,\n                timestamp: message.timestamp\n            })*/\n            dispatch({\n                type: \"ADD_RECEIVED_MESSAGE\",\n                item: {\n                    from_id: message.from_id,\n                    from_name: message.from_name,\n                    to_name: message.to_name,\n                    message: message.message,\n                    timestamp: message.timestamp\n                }\n            })\n        });\n\n        dispatch({\n            type: 'SET_USER',\n            item: user\n        })\n\n        try {\n            const query = `/friends/get_requests/${user._id}/${1}/${30}`\n            axios.get(query)\n                .then((res) => {\n                    dispatch({\n                        type: 'ADD_REQUESTS',\n                        item: res.data.data\n                    })\n                })\n        } catch (err) {\n            console.log(err)\n        }\n\n\n        return () => newSocket.close()\n    }, [])\n\n    return (\n        <SocketContext.Provider value={socket}>\n            {children}\n        </SocketContext.Provider>\n    )\n}","import React, {useState} from 'react'\nimport \"./FriendSearchList.css\"\nimport { Avatar, IconButton } from '@material-ui/core'\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\nimport axios from \"../../helpers/axios\"\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { green } from '@material-ui/core/colors';\nimport CheckIcon from '@material-ui/icons/Check';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\n\nconst useStyles = makeStyles((theme)=> ({\n    buttonProgress: {\n      color: green[500],\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      marginTop: -18,\n      marginLeft: -18,\n    }\n  }))\n\nfunction FriendsSearchList({ name, status, personId, index, user, received, requested, accepted }) {\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false)\n    const [success, setSuccess] = useState(false)\n\n    const sendRequest = async () => {\n        setLoading(true)\n        try {\n            const res = await axios.post('/friends/friend_request', {\n                u_id: personId,\n                name: name,\n                status: status,\n                fo_id: user._id\n            })\n            if (res){\n                setLoading(false)\n                setSuccess(true)\n            }\n        } catch (err) {\n            setLoading(false)\n            setSuccess(false)\n            //setDisable(false)\n        }\n    }\n\n    const getIcon = () => {\n        if (requested && !accepted) {\n            return <CheckIcon className=\"request__icon\"/>\n        }\n        if (received && !accepted) {\n            return <ArrowDownwardIcon className=\"request__icon\"/>\n        }\n        if (accepted) {\n            return <DoneAllIcon className=\"request__icon\"/>\n        }\n        if (success) {\n            return <CheckIcon className=\"request__icon\"/>\n        }\n\n        return <GroupAddIcon className=\"request__icon\"/>\n    }\n    return (\n        <div className=\"list__main\">\n            <Avatar className=\"list__avatar\" />\n            <div className=\"list__info\">\n                <h2>{name}</h2>\n                <p>{status}</p>\n            </div>\n            <div className=\"fab\">\n                <IconButton onClick={() => sendRequest()}\n                    disabled={accepted || requested || received || success}\n                    className=\"send__request\">\n                    {getIcon()}\n                </IconButton>\n                {loading && <CircularProgress size={38} className={classes.buttonProgress}/>}\n            </div>\n        </div>\n    )\n}\n\nexport default FriendsSearchList\n","import { SearchOutlined } from \"@material-ui/icons\";\nimport React, { useState} from \"react\";\nimport Modal from \"react-modal\";\nimport \"./FindFriend.css\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { IconButton } from \"@material-ui/core\";\nimport FriendsSearchList from \"./FriendsSearchList\"\nimport axios from \"../../helpers/axios\"\nimport { useStateValue } from \"../../StateProvider\";\nimport { makeStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { green } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles((theme)=> ({\n  buttonProgress: {\n    color: green[500],\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    marginTop: -18,\n    marginLeft: -18,\n  }\n}))\n\nfunction FindFriend({ isOpen, close, element }) {\n  const [people, setPeople] = useState([])\n  const [searchText, setSearchText] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [{ user }, dispatch] = useStateValue();\n\n  const classes = useStyles()\n\n  const search = async (e) => {\n    e.preventDefault();\n    setLoading(true)\n    try {\n      const queryUrl = `/user/get_users/${user._id}/${searchText}/${1}/${10}`\n      const res = await axios.get(queryUrl)\n      if (!res) {\n        throw new Error('empty response')\n      }\n      console.log(res.data.data)\n      setLoading(false)\n      setPeople(res.data.data)\n    } catch (e) {\n      console.log(e.message)\n      setLoading(false)\n      alert('No person with such name')\n      setPeople([])\n    } finally {\n      setSearchText('')\n    }\n  }\n\n  return (\n    <div className=\"main\">\n      <Modal\n        isOpen={isOpen}\n        appElement={element}\n        className=\"Find_Friend_Modal\"\n        overlayClassName=\"Overlay\"\n      >\n        <div className=\"findFriendModal__body\">\n          <div className=\"findFriendModal__search\">\n            <div className=\"findFriendModal__searchContainer\">\n              <IconButton onClick={(e) => search(e)}>\n                <SearchOutlined />\n              </IconButton>\n              <input placeholder=\"Search for new friends\" type=\"text\"\n                onChange={(e) => setSearchText(e.target.value)}\n                value={searchText} />\n            </div>\n            <IconButton onClick={() => {\n              close();\n              setPeople([])\n            }}>\n              <CancelIcon />\n            </IconButton>\n          </div>\n\n          <div className=\"findFriendModal__friends\">\n            {\n              (people.length > 0) && people.map((item, i) => (\n                <FriendsSearchList\n                  name={item.name}\n                  status={item.status}\n                  index={i}\n                  received={item.received}\n                  requested={item.requested}\n                  accepted={item.accepted}\n                  personId={item._id}\n                  user={user}\n                />\n              ))\n            }\n            {loading && <CircularProgress size={38} className={classes.buttonProgress}/>}\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n\nexport default FindFriend;\n","import React, { useEffect, useState } from \"react\";\nimport \"./Chatroom.css\";\nimport { useStateValue } from \"../../StateProvider\";\n\nimport Chat from \"./Chat\";\nimport Sidebar from \"./Sidebar\";\nimport axios from \"../../helpers/axios\";\nimport { useSocket } from \"./SocketProvider\";\nimport FindFriend from \"./FindFriend\"\nimport RequestsModal from './RequestsModal'\n\nfunction Chatroom({ user }) {\n  const [{ room, messages, recent_rooms }, dispatch] = useStateValue();\n  const socket = useSocket();\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n\n  const sendMessage = (e, message) => {\n    /*dispatch({\n      type: \"ADD_MESSAGE\",\n      item: {\n        to_id: room.id,\n        to_name: room.name,\n        message: message,\n        from_id: user._id,\n        from_name: user.name,\n        timestamp: Date.now()\n      },\n    });*/\n\n    recent_rooms[room.id].messages.push({\n      to_id: room.id,\n      to_name: room.name,\n      message: message,\n      from_id: user._id,\n      from_name: user.name,\n      timestamp: Date.now()\n    })\n\n    e.preventDefault();\n    console.log(\"sending message\");\n    socket.emit(\"send-message\", {\n      from_id: user._id,\n      from_name: user.name,\n      msg: message,\n      to_id: room.id,\n      to_name: room.name,\n      timestamp: Date.now()\n    });\n  };\n\n  const findFriend = () => {\n    setModalIsOpen(true)\n  }\n\n  const closeFindFriend = () => {\n    setModalIsOpen(false)\n  }\n\n  return (\n    <div className=\"chatroom__main\" id=\"chatroom\">\n      <div className=\"chatroom__body\" id=\"chatroomBody\">\n        <Sidebar user={user} findFriend={findFriend} />\n        <Chat sendMessage={sendMessage} />\n      </div>\n      <FindFriend isOpen={modalIsOpen} close={closeFindFriend}\n        element={document.getElementById(\"talky\")} />\n    </div>\n  );\n}\n\nexport default Chatroom;\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport banner from \"./manage_chats.svg\"\nimport \"./App.scss\";\nimport { Login } from \"./components/login\";\nimport { Register } from \"./components/login\";\nimport Chatroom from \"./components/chatroom/Chatroom\";\nimport axios from \"./helpers/axios\";\nimport { useStateValue } from \"./StateProvider\";\nimport { SocketProvider } from \"./components/chatroom/SocketProvider\";\nimport ReactCardFlip from 'react-card-flip';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoginActive: true,\n      isChatroomActive: false,\n      user: {},\n      loginEmail: \"\",\n      loginPwd: \"\",\n      isFlipped: false\n    };\n  }\n\n  componentDidMount() {\n  }\n\n  processLogin = async (setLoading) => {\n    try {\n      let res = await axios.post(\"/user/login\", {\n        email: this.state.loginEmail,\n        password: this.state.loginPwd,\n      });\n      const resUser = res.data;\n      console.log(resUser)\n      if(! resUser._id){\n        throw new Error('undefined id received')\n      }\n      console.log(`resUser = ${resUser}`);\n      this.setState((prevState) => ({\n        isLoginActive: false,\n        isChatroomActive: !prevState.isChatroomActive,\n        user: resUser,\n      }));\n\n    } catch (e) {\n      console.log(e.message);\n      alert(\"login failed\");\n    } finally {\n      setLoading(false) // setLoading hook from login component\n    }\n  };\n\n  processLoginEmail = (e) => {\n    this.setState({ loginEmail: e.target.value });\n  };\n\n  processLoginPassword = (e) => {\n    this.setState({ loginPwd: e.target.value });\n  };\n\n  flip = () => {\n    this.setState((prevState) => ({\n      ...this.state,\n      isFlipped: !prevState.isFlipped,\n    }))\n  }\n\n  render() {\n    const {\n      isLoginActive,\n      isChatroomActive,\n      user\n    } = this.state;\n    const flipStyle = {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"alignItems\": \"center\"\n    }\n    return (\n      <div className=\"app\" id=\"talky\">\n        <div className=\"app__container\">\n          { isLoginActive &&\n            <div className=\"banner\">\n              <div className=\"banner_image\">\n                <img src={banner} alt={\"banner\"}></img>\n                <h1>Join and start connecting with your loved ones.</h1>\n              </div>\n            </div>\n          }\n          <div className=\"login\">\n            <div className=\"container\">\n              {isLoginActive &&\n                <ReactCardFlip isFlipped={this.state.isFlipped}\n                  containerStyle={flipStyle}\n                  flipDirection=\"horizontal\"\n                >\n                  <Login\n                    containerRef={(ref) => (this.current = ref)}\n                    processLogin={this.processLogin}\n                    processLoginEmail={this.processLoginEmail}\n                    processLoginPassword={this.processLoginPassword}\n                    flip={this.flip}\n                  />\n                  <Register containerRef={(ref) => (this.current = ref)}\n                    flip={this.flip}\n                  />\n                </ReactCardFlip>\n              }\n              {isChatroomActive && (\n                <SocketProvider id={user._id} user={user}>\n                  <Chatroom user={user} />\n                </SocketProvider>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { StateProvider } from \"./StateProvider\";\nimport { reducer, initialState } from \"./reducer\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","export const initialState = {\n  user: {},\n  room: {},\n  messages: [],\n  recent_rooms: {}, // {name,id}\n  requests: [], //{name,id,status}\n  fromMeRequestedFriends: [],\n  toMeRequestedFriends: []\n};\n\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_USER\":\n      return {\n        ...state,\n        user: action.item,\n      };\n\n    case \"SET_ROOM\":\n      return {\n        ...state,\n        room:action.item,\n      };\n\n    case \"ADD_ROOM\":\n      return {\n        ...state,\n        recent_rooms: {...state.recent_rooms, ...action.item}\n      };\n\n    case \"ADD_RECEIVED_MESSAGE\":\n        const modi = {...state.recent_rooms}\n        console.log('received reducer')\n        modi[action.item.from_id].messages.push(action.item)\n        return {\n          ...state,\n          recent_rooms: {\n            ...modi  \n          }\n        }\n        /*state.recent_rooms[action.item.from_id].messages.push(action.item)\n        return state*/\n\n    case \"ADD_MESSAGE\":\n      return {\n        ...state,\n        messages: [...state.messages, action.item]\n      };\n\n    case \"ADD_REQUEST\":\n      return {\n        ...state,\n        requests: [...state.requests, action.item]\n      };\n    \n    case \"ADD_REQUESTS\":\n      return {\n        ...state,\n        requests: [...action.item]\n      }\n\n    case \"RESET_REQUESTS\":\n      return {\n        ...state,\n        requests: [...action.item]\n      }\n    \n    case \"ADD_FROM_ME_FRIENDS\":\n      return {\n        ...state,\n        fromMeRequestedFriends: [...action.item]\n      }\n\n    case \"ADD_TO_ME_FRIENDS\":\n      return {\n        ...state,\n        toMeRequestedFriends: [...action.item]\n      }\n\n    default:\n      return state;\n  }\n};\n"],"sourceRoot":""}